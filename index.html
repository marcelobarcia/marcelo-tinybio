<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Marcelo Barcia — Tinybio</title>
  <style>
    :root{--bg:#0f1720;--card:#0b1220;--muted:#94a3b8;--accent:#2563eb}
    body{font-family:Inter,Arial,Helvetica,sans-serif;margin:0;padding:18px;background:var(--bg);color:#e6eef8}
    .wrap{display:grid;grid-template-columns:280px 1fr 360px;gap:16px}
    .card{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 20px rgba(2,6,23,0.6)}
    .header{display:flex;align-items:center;gap:12px}
    .avatar{width:56px;height:56px;border-radius:12px;overflow:hidden}
    .avatar img{width:100%;height:100%;object-fit:cover}
    h1{margin:0;font-size:20px}
    .meta{color:var(--muted);font-size:13px}
    .btn{display:inline-block;padding:6px 10px;background:var(--accent);color:white;border-radius:8px;text-decoration:none;margin-right:6px;font-size:13px}
    .clock{font-size:34px;font-weight:700}
    .date{color:var(--muted)}
    .tasks .task{padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);margin-bottom:10px}
    .digest a{color:#9bd;text-decoration:none}
    .small{font-size:13px;color:var(--muted)}
    @media(max-width:900px){.wrap{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <div class="wrap">
    <div>
      <div class="card header">
        <div class="avatar"><img src="assets/profile.jpg" alt="avatar"></div>
        <div>
          <h1>Marcelo Barcia</h1>
          <div class="meta">Founder @ Ataway — Product, Ops, AI</div>
          <div style="margin-top:8px"><a class="btn" href="https://linkedin.com/in/marcelobarcia">LinkedIn</a> <a class="btn" href="https://trello.com/b/6985ccd715f8a39762a2751c">Trello</a></div>
        </div>
      </div>
      <div class="card" style="margin-top:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="clock" id="clock">--:--</div>
            <div class="date" id="date">Cargando fecha...</div>
          </div>
          <div class="small">Tu foco hoy<br><strong>Sin foco definido</strong></div>
        </div>
      </div>
      <div class="card tasks" style="margin-top:12px">
        <h3>Últimas tarjetas</h3>
        <div id="cards-list">Cargando...</div>
      </div>
    </div>
    <div>
      <div class="card">
        <h3>Workstream</h3>
        <div class="small">Tareas rápidas, eventos y panel principal</div>
      </div>
      <div class="card" style="margin-top:12px">
        <h3>Tareas</h3>
        <div class="task">Responder mensaje Incha (Macarena)</div>
        <div class="task">Crear Gems para enviar a pruebas</div>
        <div class="task">Enviar resources clases UDD</div>
      </div>
    </div>
    <div>
      <div class="card digest">
        <h3>Digest</h3>
        <div id="digest-list">Cargando...</div>
      </div>
    </div>
  </div>
<script>
(function(){
  function safeText(t){return document.createTextNode(t);} 
  function formatDate(iso){try{var d=new Date(iso);return d.toLocaleString('es-ES',{weekday:'short',day:'2-digit',month:'short',year:'numeric'});}catch(e){return iso}}
  function updateClock(){var d=new Date();var hh=('0'+d.getHours()).slice(-2);var mm=('0'+d.getMinutes()).slice(-2);document.getElementById('clock').innerText=hh+':'+mm;document.getElementById('date').innerText=d.toLocaleString('es-ES',{weekday:'short',day:'2-digit',month:'short',year:'numeric'});} 
  updateClock(); setInterval(updateClock,60000);
  fetch('data.json').then(function(r){return r.json();}).then(function(d){
    var cards=d.cards||[];var digest=d.digest||[];
    var cardsList=document.getElementById('cards-list');cardsList.innerHTML='';
    var shown=0;
    cards.filter(function(c){return (c.list||'').toLowerCase()!=='hecho';}).forEach(function(c){if(shown>=6) return; shown++; var div=document.createElement('div');div.style.padding='10px';div.style.borderBottom='1px solid rgba(255,255,255,0.03)';
        var a=document.createElement('a');a.style.color='#fff';a.style.fontWeight='600';a.href=c.url||'#';a.target='_blank';a.appendChild(safeText(c.name));div.appendChild(a);
        var meta=document.createElement('div');meta.className='meta';meta.appendChild(safeText((c.list||'')+' — '+formatDate(c.date||'') ));div.appendChild(meta);
        cardsList.appendChild(div);
    });
    var digestList=document.getElementById('digest-list');digestList.innerHTML='';
    digest.slice(0,6).forEach(function(n){var div=document.createElement('div');div.style.padding='6px';div.style.borderBottom='1px solid rgba(255,255,255,0.03)';var a=document.createElement('a');a.style.color='#9bd';a.href=n.url||'#';a.target='_blank';a.appendChild(safeText(n.title));div.appendChild(a);digestList.appendChild(div);});
  }).catch(function(e){console.error('fetch error',e);document.getElementById('cards-list').innerText='Error cargando';document.getElementById('digest-list').innerText='Error cargando';});
})();
</script>
</body>
</html>
